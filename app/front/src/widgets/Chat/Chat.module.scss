.root {
  display: grid;
  grid-template-rows: auto 1fr auto;
  overflow: hidden;
  background: var(--mantine-color-body);
  border: 1px solid color-mix(in oklab, var(--mantine-color-default-border) 80%, transparent);
  border-radius: 20px;
  width: 100%;
  height: 100%;
}

.head { backdrop-filter: saturate(140%) blur(6px); }
.divider { border-color: color-mix(in oklab, var(--mantine-color-default-border) 60%, transparent); }
.scroll { padding: 12px; }

.list { display: flex; flex-direction: column; gap: 10px; }

.msg { display: grid; grid-template-columns: auto 1fr auto; align-items: end; gap: 8px; }
.msgUser { justify-content: end; grid-template-columns: 1fr auto; }
.msgBot { grid-template-columns: auto 1fr; }

.avatar { opacity: 0.9; }

.bubble {
  position: relative;
  max-width: min(680px, 78%);
  padding: 10px 12px;
  border-radius: 14px;
  background: var(--mantine-color-default);
  border: 1px solid color-mix(in oklab, var(--mantine-color-default-border) 60%, transparent);
  box-shadow: 0 1px 0.5px rgba(0,0,0,0.02);
  width: 100%;
}

.msgUser .bubble {
  background: var(--mantine-color-blue-0);
  border-color: color-mix(in oklab, var(--mantine-color-blue-3) 50%, transparent);
  justify-self: flex-end;
}

.meta { display: flex; gap: 8px; align-items: baseline; margin-bottom: 2px; }
.name { letter-spacing: 0.1px; }
.time { opacity: 0.7; }

.body { white-space: pre-wrap; word-wrap: break-word; line-height: 1.55; }
.body a { text-decoration: underline; }

.typing { padding: 10px; }
.dots { display: inline-flex; gap: 6px; }
.dots span { width: 6px; height: 6px; border-radius: 50%; background: var(--mantine-color-dimmed); animation: typing 1s infinite ease-in-out; }
.dots span:nth-child(2) { animation-delay: .15s; }
.dots span:nth-child(3) { animation-delay: .3s; }

@keyframes typing { 0%,80%,100%{opacity:.2;transform:translateY(0)} 40%{opacity:1;transform:translateY(-2px)} }

.inputRow { display: grid; grid-template-columns: 1fr auto; align-items: end; gap: 8px; padding: 10px; }

@media (max-width: 520px) { .bubble { max-width: 92%; } }